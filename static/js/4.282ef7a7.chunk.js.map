{"version":3,"sources":["Service/Api-service.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/ItemMovie/ItemMovie.jsx","Components/GalleryMovies/GalleryMovies.jsx","Components/Form/Form.jsx","views/MoviesPage.jsx"],"names":["ApiService","page","myKeyAPI","baseURL","axios","defaults","fetchTrandingMovies","get","this","then","data","results","fetchSearchMovies","search","fetchInfoMovieID","id","fetchActorsMovieID","resolve","cast","fetchReviewsMovieID","_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","ItemMovie","movie","location","backdrop_path","title","release_date","original_title","vote_average","useState","pathname","state","linkTo","baseImgURL","className","to","src","alt","GalleryMovies","movies","map","Form","onHandleSearchMovies","setSearch","onSubmit","event","preventDefault","onChange","target","placeholder","type","MoviesPage","searchLocation","props","handleSearchMovies","a","history","catch","error","console","log","response","setState","Component"],"mappings":"+IAAA,qBAEMA,EAAa,CACjBC,KAAM,EACNC,SAAU,mCACVC,QAAUC,IAAMC,SAASF,QAAU,+BAEnCG,oBALiB,WAMf,OAAOF,IACJG,IADI,UAEAC,KAAKL,QAFL,uCAE2CK,KAAKN,SAFhD,iBAEiEM,KAAKP,OAE1EQ,MAAK,qBAAGC,KAAgBC,YAG7BC,kBAbiB,SAaCC,GAChB,OAAOT,IACJG,IADI,UAEAC,KAAKL,QAFL,+BAEmCU,EAFnC,oBAEqDL,KAAKN,SAF1D,iBAE2EM,KAAKP,OAEpFQ,MAAK,qBAAGC,KAAgBC,YAG7BG,iBArBiB,SAqBAC,GACf,OAAOX,IACJG,IADI,UAEAC,KAAKL,QAFL,kBAEsBY,EAFtB,oBAEoCP,KAAKN,SAFzC,iBAE0DM,KAAKP,OAEnEQ,MAAK,qBAAGC,SAGbM,mBA7BiB,SA6BED,GACjB,OAAOX,IACJG,IADI,UAEAC,KAAKL,QAFL,kBAEsBY,EAFtB,4BAE4CP,KAAKN,SAFjD,iBAEkEM,KAAKP,OAE3EQ,MAAK,SAACQ,GAAD,OAAaA,EAAQP,KAAKQ,SAGpCC,oBArCiB,SAqCGJ,GAClB,OAAOX,IACJG,IADI,UAEAC,KAAKL,QAFL,kBAEsBY,EAFtB,4BAE4CP,KAAKN,SAFjD,iBAEkEM,KAAKP,OAE3EQ,MAAK,SAACQ,GAAD,OAAaA,EAAQP,KAAKC,aAIvBX,O,gCChDA,SAASoB,EAAkBC,EAAKC,IAClC,MAAPA,GAAeA,EAAMD,EAAIE,UAAQD,EAAMD,EAAIE,QAE/C,IAAK,IAAIC,EAAI,EAAGC,EAAO,IAAIC,MAAMJ,GAAME,EAAIF,EAAKE,IAC9CC,EAAKD,GAAKH,EAAIG,GAGhB,OAAOC,ECHM,SAASE,EAAeN,EAAKG,GAC1C,OCLa,SAAyBH,GACtC,GAAIK,MAAME,QAAQP,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKG,GACjD,GAAsB,qBAAXK,QAA4BA,OAAOC,YAAYC,OAAOV,GAAjE,CACA,IAAIW,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKjB,EAAIQ,OAAOC,cAAmBG,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAETlB,GAAKQ,EAAKT,SAAWC,GAH8CS,GAAK,IAK9E,MAAOU,GACPT,GAAK,EACLC,EAAKQ,EACL,QACA,IACOV,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBX,EAAKG,IGJ3C,SAAqCoB,EAAGC,GACrD,GAAKD,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAO,EAAiBA,EAAGC,GACtD,IAAIC,EAAIf,OAAOgB,UAAUC,SAASC,KAAKL,GAAGM,MAAM,GAAI,GAEpD,MADU,WAANJ,GAAkBF,EAAEO,cAAaL,EAAIF,EAAEO,YAAYC,MAC7C,QAANN,GAAqB,QAANA,EAAoBpB,MAAM2B,KAAKT,GACxC,cAANE,GAAqB,2CAA2CQ,KAAKR,GAAW,EAAiBF,EAAGC,QAAxG,GHF8D,CAA2BxB,EAAKG,IILjF,WACb,MAAM,IAAI+B,UAAU,6IJIgF,G,mKKoCvFC,EArCG,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAExB3C,EAME0C,EANF1C,GACA4C,EAKEF,EALFE,cACAC,EAIEH,EAJFG,MACAC,EAGEJ,EAHFI,aACAC,EAEEL,EAFFK,eACAC,EACEN,EADFM,aAPuC,EAUxBC,mBAAS,CACxBC,SAAS,WAAD,OAAalD,GACrBmD,MAAO,CAAEb,KAAMK,KAFVS,EAVkC,oBAenCC,EAAaT,EAAa,yCACMA,GAClC,sFACJ,OACE,oBAAIU,UAAU,YAAd,SACE,eAAC,IAAD,CAAMC,GAAIH,EAAV,UACE,qBAAKE,UAAU,cAAf,SACE,qBAAKA,UAAU,WAAWE,IAAKH,EAAYI,IAAKZ,MAElD,sBAAKS,UAAU,WAAf,UACE,oBAAIA,UAAU,aAAd,SAA4BP,IAE5B,8BACE,sBAAMO,UAAU,YAAhB,SAA6BN,IAC7B,uBAAMM,UAAU,YAAhB,gBAAgCR,iBCrB7BY,EAVO,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,OAAQhB,EAAe,EAAfA,SAC/B,OACE,oBAAIW,UAAU,UAAd,SACGK,EAAOC,KAAI,SAAClB,GAAD,OACV,cAAC,EAAD,CAAWA,MAAOA,EAAsBC,SAAUA,GAApBD,EAAM1C,W,uJCyB7B6D,EA5BF,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,qBAA2B,EACbb,mBAAS,IADI,mBAClCnD,EADkC,KAC1BiE,EAD0B,KAYzC,OACE,uBAAMT,UAAU,OAAOU,SAVJ,SAACC,GACpBA,EAAMC,iBACNJ,EAAqBhE,IAQrB,UACE,gCACE,uBACEwD,UAAU,cACVa,SATS,SAACF,GAChBF,EAAUE,EAAMG,OAAOzC,QASjB0C,YAAY,oBAGhB,wBAAQf,UAAU,SAASgB,KAAK,SAAhC,wB,gBCnBAC,E,8MACJpB,MAAQ,CACNQ,OAAQ,GACRhB,SAAU,GACV6B,gBAAgB,YAAKC,MAAM9B,gBAAX,eAAqB7C,SAAU,I,EASjD4E,mB,uCAAqB,WAAO5E,GAAP,qBAAA6E,EAAA,+DACW,EAAKF,MAA3B9B,EADW,EACXA,SAAUiC,EADC,EACDA,QADC,SAEI3F,IAAWY,kBAAkBC,GAAQ+E,OAAM,SAACC,GAAD,OAChEC,QAAQC,IAAIF,MAHK,OAEbG,EAFa,OAMftC,EAAS7C,SAAT,iBAA8BA,IAChC8E,EAAQlD,KAAK,CACX5B,OAAO,UAAD,OAAYA,KAItB,EAAKoF,SAAS,CACZvB,OAAQsB,EACRtC,SAAUA,EACV6B,eAAgB1E,IAGlB6C,EAAS7C,OAASA,EAlBC,2C,6GANrB,WAAqB,IACX0E,EAAmB/E,KAAK0D,MAAxBqB,eAERA,GAAkB/E,KAAKiF,mBAAmBF,K,oBAwB5C,WAAU,IAAD,EACsB/E,KAAK0D,MAA1BQ,EADD,EACCA,OAAQhB,EADT,EACSA,SAChB,OACE,qCACE,cAAC,EAAD,CAAMmB,qBAAsBrE,KAAKiF,qBACjC,cAAChB,EAAA,EAAD,CAAeC,OAAQA,EAAQhB,SAAUA,W,GAvCxBwC,aA6CVZ","file":"static/js/4.282ef7a7.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst ApiService = {\r\n  page: 1,\r\n  myKeyAPI: \"e1648943ec3f00b3b8db827b73df4be9\",\r\n  baseURL: (axios.defaults.baseURL = \"https://api.themoviedb.org/3\"),\r\n\r\n  fetchTrandingMovies() {\r\n    return axios\r\n      .get(\r\n        `${this.baseURL}/trending/movie/day?api_key=${this.myKeyAPI}&page=${this.page}`\r\n      )\r\n      .then(({ data }) => data.results);\r\n  },\r\n\r\n  fetchSearchMovies(search) {\r\n    return axios\r\n      .get(\r\n        `${this.baseURL}/search/movie?query=${search}&api_key=${this.myKeyAPI}&page=${this.page}`\r\n      )\r\n      .then(({ data }) => data.results);\r\n  },\r\n\r\n  fetchInfoMovieID(id) {\r\n    return axios\r\n      .get(\r\n        `${this.baseURL}/movie/${id}?api_key=${this.myKeyAPI}&page=${this.page}`\r\n      )\r\n      .then(({ data }) => data);\r\n  },\r\n\r\n  fetchActorsMovieID(id) {\r\n    return axios\r\n      .get(\r\n        `${this.baseURL}/movie/${id}/credits?api_key=${this.myKeyAPI}&page=${this.page}`\r\n      )\r\n      .then((resolve) => resolve.data.cast);\r\n  },\r\n\r\n  fetchReviewsMovieID(id) {\r\n    return axios\r\n      .get(\r\n        `${this.baseURL}/movie/${id}/reviews?api_key=${this.myKeyAPI}&page=${this.page}`\r\n      )\r\n      .then((resolve) => resolve.data.results);\r\n  },\r\n};\r\n\r\nexport default ApiService;\r\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.scss\";\r\n\r\nconst ItemMovie = ({ movie, location }) => {\r\n  const {\r\n    id,\r\n    backdrop_path,\r\n    title,\r\n    release_date,\r\n    original_title,\r\n    vote_average,\r\n  } = movie;\r\n\r\n  const [linkTo] = useState({\r\n    pathname: `/movies/${id}`,\r\n    state: { from: location },\r\n  });\r\n\r\n  const baseImgURL = backdrop_path\r\n    ? `https://image.tmdb.org/t/p/w500${backdrop_path}`\r\n    : \"https://серебро.рф/img/placeholder.png\";\r\n  return (\r\n    <li className=\"film-card\">\r\n      <Link to={linkTo}>\r\n        <div className=\"img-wrapper\">\r\n          <img className=\"film-img\" src={baseImgURL} alt={title} />\r\n        </div>\r\n        <div className=\"film-box\">\r\n          <h3 className=\"film-title\">{original_title}</h3>\r\n\r\n          <p>\r\n            <span className=\"film-rate\">{vote_average}</span>\r\n            <span className=\"film-text\"> | {release_date}</span>\r\n          </p>\r\n        </div>\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ItemMovie;\r\n","import ItemMovie from \"../ItemMovie\";\r\n\r\nconst GalleryMovies = ({ movies, location }) => {\r\n  return (\r\n    <ul className=\"gallery\">\r\n      {movies.map((movie) => (\r\n        <ItemMovie movie={movie} key={movie.id} location={location} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default GalleryMovies;\r\n","import { useState } from \"react\";\r\nimport \"./style.scss\";\r\n\r\nconst Form = ({ onHandleSearchMovies }) => {\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const searchMovies = (event) => {\r\n    event.preventDefault();\r\n    onHandleSearchMovies(search);\r\n  };\r\n\r\n  const getQuery = (event) => {\r\n    setSearch(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <form className=\"from\" onSubmit={searchMovies}>\r\n      <label>\r\n        <input\r\n          className=\"from__input\"\r\n          onChange={getQuery}\r\n          placeholder=\"Search Movies\"\r\n        ></input>\r\n      </label>\r\n      <button className=\"button\" type=\"submit\">\r\n        Search\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import { Component } from \"react\";\r\nimport Form from \"../Components/Form\";\r\nimport ApiService from \"../Service/Api-service\";\r\nimport GalleryMovies from \"../Components/GalleryMovies\";\r\n\r\nclass MoviesPage extends Component {\r\n  state = {\r\n    movies: [],\r\n    location: {},\r\n    searchLocation: this.props.location?.search || \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { searchLocation } = this.state;\r\n\r\n    searchLocation && this.handleSearchMovies(searchLocation);\r\n  }\r\n\r\n  handleSearchMovies = async (search) => {\r\n    const { location, history } = this.props;\r\n    const response = await ApiService.fetchSearchMovies(search).catch((error) =>\r\n      console.log(error)\r\n    );\r\n\r\n    if (location.search !== `?query=${search}`) {\r\n      history.push({\r\n        search: `?query=${search}`,\r\n      });\r\n    }\r\n\r\n    this.setState({\r\n      movies: response,\r\n      location: location,\r\n      searchLocation: search,\r\n    });\r\n\r\n    location.search = search;\r\n  };\r\n\r\n  render() {\r\n    const { movies, location } = this.state;\r\n    return (\r\n      <>\r\n        <Form onHandleSearchMovies={this.handleSearchMovies} />\r\n        <GalleryMovies movies={movies} location={location} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}