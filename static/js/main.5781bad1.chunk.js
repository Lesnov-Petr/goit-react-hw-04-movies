(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{58:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(33),i=n.n(r),s=n(9),o=n(2),l=n(4),u=n.n(l),h=n(10),j=n(11),v=n(12),m=n(14),b=n(13),p=n(17),d=n.n(p),f={page:1,myKeyAPI:"e1648943ec3f00b3b8db827b73df4be9",baseURL:d.a.defaults.baseURL="https://api.themoviedb.org/3",fetchTrandingMovies:function(){return d.a.get("".concat(this.baseURL,"/trending/movie/day?api_key=").concat(this.myKeyAPI,"&page=").concat(this.page)).then((function(e){return e.data.results}))},fetchSearchMovies:function(e){return d.a.get("".concat(this.baseURL,"/search/movie?query=").concat(e,"&api_key=").concat(this.myKeyAPI,"&page=").concat(this.page)).then((function(e){return e.data.results}))},fetchInfoMovieID:function(e){return d.a.get("".concat(this.baseURL,"/movie/").concat(e,"?api_key=").concat(this.myKeyAPI,"&page=").concat(this.page)).then((function(e){return e.data}))},fetchActorsMovieID:function(e){return d.a.get("".concat(this.baseURL,"/movie/").concat(e,"/credits?api_key=").concat(this.myKeyAPI,"&page=").concat(this.page)).then((function(e){return e.data.cast}))},fetchReviewsMovieID:function(e){return d.a.get("".concat(this.baseURL,"/movie/").concat(e,"/reviews?api_key=").concat(this.myKeyAPI,"&page=").concat(this.page)).then((function(e){return e.data.results}))}},O=n(19),x=(n(58),n(0)),g=function(e){var t=e.movie,n=e.location,a=t.id,r=t.backdrop_path,i=t.title,o=t.release_date,l=t.original_title,u=t.vote_average,h=Object(c.useState)({pathname:"/movies/".concat(a),state:{from:n}}),j=Object(O.a)(h,2),v=j[0],m=(j[1],r?"https://image.tmdb.org/t/p/w500".concat(r):"https://\u0441\u0435\u0440\u0435\u0431\u0440\u043e.\u0440\u0444/img/placeholder.png");return Object(x.jsx)("li",{className:"film-card",children:Object(x.jsxs)(s.b,{to:v,children:[Object(x.jsx)("div",{className:"img-wrapper",children:Object(x.jsx)("img",{className:"film-img",src:m,alt:i})}),Object(x.jsxs)("div",{className:"film-box",children:[Object(x.jsx)("h3",{className:"film-title",children:l}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"film-rate",children:u}),Object(x.jsxs)("span",{className:"film-text",children:[" | ",o]})]})]})]})})},_=function(e){var t=e.movies,n=e.location;return Object(x.jsx)("ul",{className:"gallery",children:t.map((function(e){return Object(x.jsx)(g,{movie:e,location:n},e.id)}))})},y=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={movies:[],location:e.props.location},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.fetchTrandingMovies().catch((function(e){return console.log(e)}));case 2:t=e.sent,this.setState({movies:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.movies,n=e.location;return Object(x.jsx)(_,{movies:t,location:n})}}]),n}(c.Component),w=(n(65),function(e){var t=e.onHandleSearchMovies,n=Object(c.useState)(""),a=Object(O.a)(n,2),r=a[0],i=a[1];return Object(x.jsxs)("form",{className:"from",onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(x.jsx)("label",{children:Object(x.jsx)("input",{className:"from__input",onChange:function(e){i(e.target.value)},placeholder:"Search Movies"})}),Object(x.jsx)("button",{className:"button",type:"submit",children:"Search"})]})}),k=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={movies:[],location:e.props.location},e.handleSearchMovies=function(){var t=Object(h.a)(u.a.mark((function t(n){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.fetchSearchMovies(n).catch((function(e){return console.log(e)}));case 2:c=t.sent,e.setState({movies:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.state,t=e.movies,n=e.location;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(w,{onHandleSearchMovies:this.handleSearchMovies}),Object(x.jsx)(_,{movies:t,location:n})]})}}]),n}(c.Component),N=n(16),M=(n(66),function(e){var t=e.title,n=e.overview,c=e.release_date,a=e.vote_average,r=e.backdrop_path,i=e.genres,s=e.onGoToBack,o=r?"https://image.tmdb.org/t/p/w500".concat(r):"https://\u0441\u0435\u0440\u0435\u0431\u0440\u043e.\u0440\u0444/img/placeholder.png";return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{className:"back",type:"button",onClick:function(){return s()},children:"Go to back"}),Object(x.jsxs)("div",{className:"movie",children:[Object(x.jsx)("div",{className:"box__img",children:Object(x.jsx)("img",{className:"movie__img",src:o,alt:t})}),Object(x.jsxs)("div",{className:"movie__description",children:[Object(x.jsxs)("h1",{className:"movie__title",children:[t,"(",c.slice(0,4),")"]}),Object(x.jsxs)("p",{className:"movie__score",children:["User score",a]}),Object(x.jsx)("h2",{className:"movie__title",children:"Overview"}),Object(x.jsx)("p",{className:"movie__overview",children:n}),Object(x.jsx)("h2",{className:"movie__title",children:"Genres"}),Object(x.jsx)("ul",{className:"movie__listGenres",children:i.map((function(e){var t=e.name,n=e.id;return Object(x.jsx)("li",{className:"movie__genre",children:t},n)}))})]})]})]})}),I=(n(67),function(e){var t=e.actor,n=t.profile_path,c=t.character,a=n?"https://image.tmdb.org/t/p/w500".concat(n):"https://\u0441\u0435\u0440\u0435\u0431\u0440\u043e.\u0440\u0444/img/placeholder.png";return Object(x.jsxs)("li",{className:"itemActor",children:[Object(x.jsx)("img",{className:"actorIMG",src:a,alt:t.name}),Object(x.jsx)("p",{children:t.name}),Object(x.jsxs)("p",{children:["Character: ",c]})]})}),S=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={actors:[]},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.fetchActorsMovieID(this.props.id).catch((function(e){return console.log(e)}));case 2:t=e.sent,this.setState({actors:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.actors;return Object(x.jsx)("ul",{children:e.map((function(e){return Object(x.jsx)(I,{actor:e},e.id)}))})}}]),n}(c.Component),A=function(e){var t=e.review;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:t.author_details.name}),Object(x.jsx)("p",{children:t.content})]})},D=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={reviews:[]},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.fetchReviewsMovieID(this.props.id).catch((function(e){return console.log(e)}));case 2:t=e.sent,this.setState({reviews:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.reviews;return Object(x.jsx)("ul",{children:e.length?e.map((function(e){return Object(x.jsx)(A,{review:e},e.id)})):"We don't have any reviews for this movie"})}}]),n}(c.Component),C=function(e){var t=e.id;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{children:"Additional Information"}),Object(x.jsx)(s.c,{to:"/movies/".concat(t,"/cast"),children:"Cast"}),Object(x.jsx)(s.c,{to:"/movies/".concat(t,"/reviews"),children:"Reviews"}),Object(x.jsx)(o.a,{path:"/movies/:movieID/cast",render:function(e){return Object(x.jsx)(S,Object(N.a)(Object(N.a)({},e),{},{id:t}))}}),Object(x.jsx)(o.a,{path:"/movies/:movieID/reviews",render:function(e){return Object(x.jsx)(D,Object(N.a)(Object(N.a)({},e),{},{id:t}))}})]})},R=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={id:"",title:null,overview:null,release_date:"",vote_average:null,backdrop_path:null,genres:[]},e.handleGoToBack=function(){var t,n=e.props,c=n.location,a=n.history;console.log(c),a.push((null===c||void 0===c||null===(t=c.state)||void 0===t?void 0:t.from)||"/goit-react-hw-04-movies")},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Number(this.props.match.params.movieID),e.next=3,f.fetchInfoMovieID(t).catch((function(e){return console.log(e)}));case 3:n=e.sent,this.setState(Object(N.a)({},n));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.id,n=e.title,c=e.overview,a=e.release_date,r=e.vote_average,i=e.backdrop_path,s=e.genres;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(M,{title:n,overview:c,release_date:a,vote_average:r,backdrop_path:i,genres:s,onGoToBack:this.handleGoToBack}),Object(x.jsx)(C,{id:t})]})}}]),n}(c.Component),G=function(){return Object(x.jsx)("h1",{children:"404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})},U=(n(68),function(){return Object(x.jsxs)("ul",{className:"nav",children:[Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)(s.c,{exact:!0,className:"nav__link",activeClassName:"nav__link--active",to:"/goit-react-hw-04-movies",children:"Home"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)(s.c,{className:"nav__link",activeClassName:"nav__link--active",to:"/movies",children:"Movies"})})]})}),L=function(){return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(U,{}),Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{exact:!0,path:"/goit-react-hw-04-movies",component:y}),Object(x.jsx)(o.a,{path:"/movies/:movieID",component:R}),Object(x.jsx)(o.a,{path:"/movies",component:k}),Object(x.jsx)(o.a,{component:G})]})]})};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(s.a,{children:Object(x.jsx)(L,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.5781bad1.chunk.js.map